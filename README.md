# notehub-js

The notehub-js library is a JavaScript implementation for communicating with the Notehub API
generated by the [OpenAPI Generator](https://openapi-generator.tech).

This library is auto-generated via the `openapi.yaml` file from the Blues Wireless notehub project and published
to [npm](https://www.npmjs.com/package/@blues-inc/notehub-js) as a library for ease of use in JavaScript-based projects.

## Project Structure

As this project is partially generated via the OpenAPI Generator tool, it has a rather unique structure.

At the root of the project, is the JavaScript library: `libTemplate/` that the OpenAPI generator uses as its template to generate the `src/` folder in which the auto-generated JS library is created.

> **NOTE:** In many scenarios, downloading the OpenAPI generator library template is not necessary, but there were some minor modifications needed to make it handle `null` and `undefined` values in the same way that the standalone Notehub API handles them, so that's why it's included here and used when generating the library code.

The `src/` folder contains the contents of the `notehub-js` library that is [published to npm](https://www.npmjs.com/package/@blues-inc/notehub-js), including:
- [`docs/`](src/docs/) folder documenting how to access each endpoint via the library, 
- [`src/`](src/src/) folder that holds the JavaScript-based `api` and `model` files for each endpoint,
- [`test/`](src/test/) folder for unit tests,
- `dist/` folder that is the packaged up final version of the library shipped to npm.

> **NOTE:** Do not modify the files in the `src/src/` folder and `README.md` - these are all auto-generated by the OpenAPI Generator tool and the next time the generator command is run any manual changes will be overwritten.

## Usage

### Initial Project Setup & Dependencies

This project uses [Node.js](https://nodejs.org/en/) as a runtime, [npm](https://www.npmjs.com/) as a package manager, and [Volta](https://volta.sh/) as a way of enforcing consistent versions of all JavaScript-based tools. You can install these dependencies by completing the steps below.

1. Install Volta by following its [installation instructions](https://docs.volta.sh/guide/getting-started).
2. Run the command below in a terminal to install the appropriate versions of both Node.js and npm.
```shell
$ volta install node npm
```
3. Navigate to the root of the folder in your terminal or command prompt and run `npm install`, which installs the repo's npm dependencies.
``` shell
$ npm install
```

It also uses the [OpenAPI Generator's CLI tool](https://openapi-generator.tech/docs/installation), so we recommend installing that tool globally through the terminal.
```shell
$ npm install @openapitools/openapi-generator-cli -g
```

Now you should be ready to make any changes or modifications the repo you'd like.

### Modifying the Project

#### Updating the auto-generated notehub-js library

When the `openapi.yaml` file is updated in the original Notehub repo which this library supports, the updated file is copied over into a new feature branch and a new PR is opened in this repo all through the magic of GitHub Actions.

When that happens, it's time to update the generated library using the updated `openapi.yaml` file.

To do so:
1. Pull down the newly created remote branch from GitHub. (It will be named something like `feat-XYZ`.)
2. Update the `config.json` file at the project's root so the `projectVersion` parameter is incremented (follow [semantic versioning](https://semver.org/) practices here).
3. At the root of the project, run the following npm command from your terminal
```shell
$ npm run generateDocs
```

This will generate a new copy of the library inside of the `src/` folder, which can then be released to npm.

## Documentation

Code examples of how to use each of the Notehub endpoints are located in the [`src/docs/`](src/docs/) folder.

Each endpoint had a `.md` file displaying:
- All the HTTP methods it supports, 
- A full URL string of what the HTTP request looks like (including required and optional parameters),
- An example of how to implement the code for a particular method inside of a JavaScript application,
- A sample return type from an endpoint,
- Required authorization to access the endpoint.

## Examples

Coming soon.

## Steps to publish updated npm versions of this repo

1. Adjust the version number in the `config.json` file.
2. Run `npm run generateDocs` to generate new docs for updated `openapi.yaml` file (the )
3. Commit and push the changes to a new branch in GitHub
4. Cut a new release following the [semantic versioning](https://semver.org/) style of [vX.X.X] for example: a release named v1.0.2.

## Contributing

We love issues, fixes, and pull requests from everyone. By participating in this project, you agree to abide by
the Blues Inc [code of conduct].

For details on contributions we accept and the process for contributing, see our
[contribution guide](CONTRIBUTING.md).

### Dependencies

Coming soon.

## More Information

Coming soon.

## To learn more about Blues Wireless, the Notecard and Notehub, see:

* [blues.com](https://blues.io)
* [notehub.io][Notehub]
* [wireless.dev](https://wireless.dev)

## License

Copyright (c) 2023 Blues Inc. Released under the MIT license. See
[LICENSE](LICENSE) for details.

[blues]: https://blues.com
[code of conduct]: https://blues.github.io/opensource/code-of-conduct
[Notehub]: https://notehub.io